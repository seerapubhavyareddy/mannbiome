version: 1.0
runtime: docker
build:
  commands:
    build:
      - echo "No build commands needed for pre-built Docker image"
run:
  runtime-version: latest
  command: uvicorn main:app --host 0.0.0.0 --port 8001
  network:
    port: 8001
    env:
      - DATABASE_URL
      - JWT_SECRET_KEY
      - JWT_ALGORITHM
      - ENVIRONMENT
      - APP_NAME
      - APP_VERSION
  env:
    - name: DATABASE_URL
      value: postgresql://postgres:db_admin@vendor-portal-db.cszf6hop4o2t.us-east-2.rds.amazonaws.com:5432/mannbiome
    - name: JWT_SECRET_KEY
      value: your-super-secret-jwt-key-change-this-in-production
    - name: JWT_ALGORITHM
      value: HS256
    - name: ENVIRONMENT
      value: production
    - name: APP_NAME
      value: MannBiome Customer Portal API
    - name: APP_VERSION
      value: 1.0.0
    - name: API_HOST
      value: 0.0.0.0
    - name: API_PORT
      value: 8001